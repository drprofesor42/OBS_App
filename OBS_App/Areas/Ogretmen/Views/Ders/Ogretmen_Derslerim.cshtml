@{
	ViewData["Title"] = "Derslerim";
}
@model IEnumerable<Ders>

<div class="student-group-form">
	<div class="row">
		<div class="col-lg-5 col-md-7">
			<div class="form-group">
				<input type="text" class="form-control" id="dersKoduAdiArama"  placeholder="Ders Koduna Göre Ara ..." oninput="aramaYap()">
			</div>
		</div>
		<div class="col-lg-5 col-md-7">
			<div class="form-group">
				<input type="text" class="form-control" id="dersAdiArama" placeholder="Ders Adına Göre Ara ..." oninput="aramaYap()">
			</div>
		</div>
	</div>
</div>


<div class="row">
	<div class="col-sm-12">
		<div class="card card-table">
			<div class="card-body">

				<div class="page-header">
					<div class="row align-items-center">
						<div class="col">
							<h3 class="page-title">Verilen Dersler</h3>
						</div>
					</div>
				</div>

				<table class="table border-0 star-student table-hover table-center mb-0 datatable table-striped">
					<thead class="student-thread">
						<tr>
							<th>Ders Kodu</th>
							<th>Ders Adı</th>
							<th>Dersi Alan Kişi Sayısı</th>
							<th>Ders Kredi</th>
							<th>Ders Akts</th>
							<th class="text-end">İşlemler</th>
						</tr>
					</thead>
					<tbody>

						@foreach (var ders in Model)
						{
							<tr>
								<td>@ders.DersKod</td>
								<td>@ders.DersAd</td>
								<td>@ders.Ogrencisler.Count()</td>
								<td>@ders.DersKredi</td>
								<td>@ders.DersAkts</td>
								<td class="text-end">
									<div class="actions">
										<a href="javascript:;" class="btn btn-sm bg-success-light me-2">
											<i class="feather-eye"></i>
										</a>
										<a asp-controller="x" asp-action="x" asp-route-id="@ders.Id" class="btn btn-sm bg-danger-light">
											<i class="feather-edit"></i>
										</a>
									</div>
								</td>
							</tr>
							}

					</tbody>
				</table>
			</div>
			@if (Model.Count() == 0)
			{
				<div class="blog grid-blog flex-fill">
					<h3 class="text-danger" style="text-align:center"> Verilen Ders Bulunmamaktadır! </h3>
				</div>
			}
		</div>
	</div>
</div>

@section Scripts {
	<script>
		function aramaYap() {
			var dersKoduAdiInput, dersAdiInput, dersKoduAdiFilter, dersAdiFilter, table, tr, td, i;
			dersKoduAdiInput = document.getElementById("dersKoduAdiArama");
			dersAdiInput = document.getElementById("dersAdiArama");
			dersKoduAdiFilter = dersKoduAdiInput.value.toUpperCase();
			dersAdiFilter = dersAdiInput.value.toUpperCase();
			table = document.querySelector(".star-student");
			tr = table.getElementsByTagName("tr");

			for (i = 0; i < tr.length; i++) {
				tdDersKoduAdi = tr[i].getElementsByTagName("td")[0];
				tdDersAdi = tr[i].getElementsByTagName("td")[1];
				if (tdDersKoduAdi && tddersAdi) {
					dersKoduAdiValue = tdDersKoduAdi.textContent || tdDersKoduAdi.innerText;
					dersAdiValue = tdDersAdi.textContent || tdDersAdi.innerText;
					if (dersKoduAdiValue.toUpperCase().indexOf(dersKoduAdiFilter) > -1 && dersAdiValue.toUpperCase().indexOf(dersAdiFilter) > -1) {
						tr[i].style.display = "";
					} else {
						tr[i].style.display = "none";
					}
				}
			}
		}
	</script>
}
